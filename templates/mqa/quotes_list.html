{% extends 'mqa/base.html' %}
{% block title %}All quotes{% endblock %}
{% block content %}
    <div class="container mt-4" style="max-width: 900px;">
        <h3 class="mb-3">–¶–∏—Ç–∞—Ç—ã</h3>
        {% if quotes %}
            <div class="list-group">
                {% for q in quotes %}
                    <div class="list-group-item list-group-item-action mb-3 shadow-sm">
                        <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">{{ q.source_name }}{% if q.source_type %} <small class="text-muted">({{ q.get_source_type_display|default:q.source_type }})</small>{% endif %}</h5>
                            <small class="text-muted">–ê–≤—Ç–æ—Ä: {{ q.author.username }}</small>
                        </div>
                        <p class="mb-1">{{ q.quote_content }}</p>
                        <div class="d-flex justify-content-between align-items-center small text-muted mt-2">
                            <span>üëç {{ q.likes_count }} ¬∑ üëé {{ q.dislikes_count }}</span>
                            <span>
                                –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤: {{ q.views }} ¬∑ –í–µ—Å: {{ q.weight }}
                                {% if request.user.id == q.author_id %}
                                    <a href="{% url 'edit_quote_weight' q.id %}" class="btn btn-sm btn-outline-primary ms-3">–ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Å</a>
                                    <form method="post" action="{% url 'delete_quote' q.id %}" class="d-inline ms-3">
                                        {% csrf_token %}
                                        <button type="submit" class="btn btn-sm btn-outline-danger">–£–¥–∞–ª–∏—Ç—å</button>
                                    </form>
                                {% endif %}
                            </span>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-info" role="alert">–ü–æ–∫–∞ –Ω–µ—Ç —Ü–∏—Ç–∞—Ç.</div>
        {% endif %}
    </div>
{% endblock %}


